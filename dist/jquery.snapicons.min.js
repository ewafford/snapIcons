/*
 *  snapicons - v0.1.2
 *  Jquery Plugin for Snapsvg Icons.
 *  http://bigstud.io
 *
 *  Made by Eric Wafford
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.el=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="snapIcons",g={url:"",animation:[],speed:200,easing:mina.linear,toggle:"click",size:{w:60,h:60},onLoad:function(){return!1},onToggle:function(){return!1}};a.extend(e.prototype,{init:function(){if(this.svg=new Snap(this.settings.size.w,this.settings.size.h),this.svg.attr("viewBox","0 0 60 60"),this.svg.appendTo(this.el),this.toggled=!1,this.clickEvent=this.isTouch()?"touchstart":"click",a(this.el).hasClass("si-icon-reverse")&&(this.reverse=!0),this.settings.url.length>0){var b=this;Snap.load(this.settings.url,function(a){var c=a.select("g");b.svg.append(c),b.settings.onLoad(),b.initEvents(),b.reverse&&b.toggleIcon()})}},initEvents:function(){if("none"!==this.settings.toggle){var b=this;"mouseover"===this.settings.toggle?a(this.el).on({mouseenter:function(){b.svg.stop(),b.toggleIcon(!0),b.settings.onToggle()},mouseleave:function(){b.svg.stop(),b.toggleIcon(!0),b.settings.onToggle()}}):a(this.el).on(this.clickEvent,function(){b.svg.stop(),b.toggleIcon(!0),b.settings.onToggle()})}},animateIcon:function(a,b,c,d,e){if(e){var f=this;setTimeout(function(a,b,c){return function(){a.animate(JSON.parse(b),f.settings.speed,f.settings.easing,function(){c.after&&this.attr(JSON.parse(c.after)),c.animAfter&&this.animate(JSON.parse(c.animAfter),f.settings.speed,f.settings.easing)})}}(a,b,c,f),d*this.settings.speed)}else a.attr(JSON.parse(b))},isTouch:function(){return"ontouchstart"in b||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},toggleIcon:function(a){if(this.settings.animation){for(var b=0,c=this.settings.animation.length;c>b;++b){var d=this.settings.animation[b],e=this.svg.select(d.el),f=this.toggled?d.animProperties.from:d.animProperties.to,g=f.val,h=a&&f.delayFactor?f.delayFactor:0;f.before&&e.attr(JSON.parse(f.before)),this.animateIcon(e,g,f,h,a)}this.toggled=!this.toggled}}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);